<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    
    <title>My JSP 'upload.jsp' starting page</title>
    
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	
  </head>
  
  <body>
	<style type="text/css">
	
	
		.item{
			display:inline;
		}
		.item label{
		    display: inline-block;
		    width: 100px;
		    height: 30px;
		    text-align: center;
		    color: #fff;
		    line-height: 30px;
		    background-color: skyblue;
		    border-radius: 5px;
		    cursor: pointer;
		}
		.item label:hover{
			background-color:blue;
		}
		
		
		.item input{
		    display: none;
		}
	</style>

		<h3></h3>
		<form action="FileUploadServlet" method="post" enctype="multipart/form-data" id="pic_form">
			<div style="color:red;" id="error"></div>
			<div class="item">
			    <label for="file1" id="lablefile">选择图片</label>
			    <input type="file" id="file1" name="pic">
			</div>
			<div style="clear:both"></div>
			<span id="filename"></span>			
			<br/>
			
		</form>
			<button value="pic_btn" id="pic_btn" onclick="uploadpic()">上传</button>
		<script type="text/javascript">
			$(document).ready(function(){
				$("#file1").bind("change",function(){
					$("#error").html("");
					var filename = $("#file1").val();
					$("#filename").html(filename);
				});
				
			/* 	$("#pic_btn").bind("click",function(){
					$("#error").html("");
					if($("#file1").val() == ""){
						$("#error").html("文件名不能为空!");
					}else{
						$.ajax({
							url:"FileUploadServlet",
							method:"post",
							dataType:"json",
							cache:false,
							data:new FormData($("#pic_form")[0]),
							processData:false,
							contentType:false,
							success:function(result){
								if(result.status){
									$.message.show("成功",result.msg,"info");
								}else{
									$.message.show("成功",result.msg,"info");
								}
							}
						});
					}
				}); */
			});
		
		</script>

  </body>
</html>
